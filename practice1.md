# Практическая работа 1
## Задача 1. REST vs Messaging
**REST**
| Плюсы | Минусы |
| --- | --- |
| За счет синхронности можем быстро получить ответ | Необходимы сценарии обработки в случае недоступности вызывющего сервера  |
| Простота документирования API | При большом потоке сообщений от сервиса приема заказов можем заддосить сервер расчет |
| Синхронность позволяет передавать сообщения срого друг за другом | Возможна потеря информации в случае сбоя |

**Messaging**
| Плюсы | Минусы |
| --- | --- |
| Строгая очередность передаваемых данных | Проработка механизмов доставки сообщений |
| Сервису приема заказов не нужно ничего знать о потребителе данных | Потребуются дополнительные мощности для конфигурации и поддержки |
| Производитель и потребитель в своем темпе передают и обрабатывают сообщения | Необходимо поддерживать резервное копирование |
| В дальнейшем можем максимизировать масштабируемость | 
| Предотвращение потери инфорации при сбоях | 

**Выводы**
При принятии решения необходимо учитывать следующие факторы:
 - какие данные будут передаваться (инфо о заказе);
 - предполагается ли разрастание системы (количество сервисов);
 - какая архитектура испольуется при проектировании решения;
 - насколько значительны потери и имеют ли они место в процессе;
 - как планируется поддерживать выбранное решение.

## Задача 2. Database
  
**Выбор : отдельные базы данных для каждого сервиса**
| Плюсы | Минусы |
| --- | --- |
| Изоляция в сервисах | Сложнее администрировать |
| Каждый сервис хранит данные в нужном объеме | Могут быть излишни, если в системе на уровне сервисов нет концептуального разграничение |
| Каждый сервис сам записывает в БД то, что нужно | Для взаимосвязанностей с даными потребуются распределенные транзакции |
| Проблемы в БД не станут единой точкой отказа для всей системы | 
| Потенциальный резерв масштабирования |

**Единая БД**
| Плюсы | Минусы |
| --- | --- |
| Консистентность данных | Единая точка отказа |
| Проще администрировать | Потребуется настройка прав доступа (кто пишет, кто читает) |
| Подходит в случае, когда каждый сервис работает только со своими таблицами и не завязан на использование других
| Сложность при модификации схемы БД (необходимо проверять какие сервисы используют те или данные колонки, тип данных и тд) |
**Выводы**
Если говорить про МС архитектуру, единая БД скорее выступает как антипаттерн.
Сервис приема заказов може подразумевать изменение структуры в БД, это в свлю очередб может повлечь за собой сложности при работе с данными в сервиса расчета. Используя различные БД каждый сервис обеспечивает хранение данных в том объеме, который необходим для корректной работы. В случае отказа одной из БД - другие сервисы бесперебойно продолжат свою работу.